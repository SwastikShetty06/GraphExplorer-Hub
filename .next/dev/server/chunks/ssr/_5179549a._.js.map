{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/swastik/GraphExplorer%20Hub/lib/graphql/queries.js"],"sourcesContent":["import { gql } from \"@apollo/client\";\n\nexport const GET_USER_PROFILE = gql`\n  query GetUserProfile($login: String!) {\n    user(login: $login) {\n      name\n      avatarUrl\n      bio\n      websiteUrl\n      followers {\n        totalCount\n      }\n      following {\n        totalCount\n      }\n      repositories(first: 100, isFork: false, ownerAffiliations: OWNER, privacy: PUBLIC, orderBy: {field: PUSHED_AT, direction: DESC}) {\n        totalCount\n        nodes {\n            id\n            name\n            description\n            stargazerCount\n            updatedAt\n            url\n            primaryLanguage {\n                name\n                color\n            }\n        }\n      }\n      # Fetching Pinned Items\n      pinnedItems(first: 6, types: [REPOSITORY]) {\n        nodes {\n          ... on Repository {\n            id\n            name\n            description\n            stargazerCount\n            primaryLanguage {\n              name\n              color\n            }\n          }\n        }\n      }\n      # Fetching Organizations\n      organizations(first: 10) {\n        nodes {\n          name\n          avatarUrl\n        }\n      }\n    }\n  }\n`;\n\nexport const SEARCH_REPOS = gql`\n  query SearchRepos($query: String!, $after: String) {\n    search(query: $query, type: REPOSITORY, first: 10, after: $after) {\n      repositoryCount\n      pageInfo {\n        endCursor\n        hasNextPage\n      }\n      edges {\n        node {\n          ... on Repository {\n            id\n            name\n            owner {\n              login\n              avatarUrl\n            }\n            description\n            stargazerCount\n            viewerHasStarred\n            primaryLanguage {\n              name\n              color\n            }\n            updatedAt\n            repositoryTopics(first: 3) {\n              nodes {\n                topic {\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_REPO_ISSUES = gql`\n  query GetRepoIssues($owner: String!, $name: String!, $first: Int = 20, $after: String, $states: [IssueState!]) {\n    repository(owner: $owner, name: $name) {\n      id\n      Name: name\n      owner {\n        login\n        avatarUrl\n      }\n      stargazerCount\n      viewerHasStarred\n      description\n      url\n      issues(first: $first, after: $after, states: $states, orderBy: {field: CREATED_AT, direction: DESC}) {\n        totalCount\n        pageInfo {\n          hasNextPage\n          endCursor\n        }\n        edges {\n          node {\n            id\n            title\n            number\n            state\n            createdAt\n            author {\n              login\n              avatarUrl\n            }\n            comments {\n              totalCount\n            }\n            labels(first: 5) {\n              nodes {\n                name\n                color\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_REPO_DETAILS = gql`\n  query GetRepoDetails($owner: String!, $name: String!) {\n    repository(owner: $owner, name: $name) {\n      id\n      name\n      owner {\n        login\n        avatarUrl\n      }\n      description\n      stargazerCount\n      forkCount\n      watchers {\n        totalCount\n      }\n      openIssues: issues(states: OPEN) {\n        totalCount\n      }\n      latestRelease {\n        tagName\n        publishedAt\n        url\n      }\n      licenseInfo {\n        name\n        spdxId\n      }\n      diskUsage\n      isPrivate\n      homepageUrl\n      url\n      createdAt\n      updatedAt\n      primaryLanguage {\n        name\n        color\n      }\n      repositoryTopics(first: 5) {\n        nodes {\n          topic {\n            name\n          }\n        }\n      }\n      readme: object(expression: \"HEAD:README.md\") {\n        ... on Blob {\n          text\n        }\n      }\n    }\n  }\n`;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,mBAAmB,qJAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDpC,CAAC;AAEM,MAAM,eAAe,qJAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqChC,CAAC;AAEM,MAAM,kBAAkB,qJAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CnC,CAAC;AAEM,MAAM,mBAAmB,qJAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDpC,CAAC"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///Users/swastik/GraphExplorer%20Hub/components/issues/IssueList.js"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef, useCallback } from \"react\";\nimport { useLazyQuery } from \"@apollo/client/react\";\nimport { GET_REPO_ISSUES } from \"@/lib/graphql/queries\";\nimport Link from \"next/link\";\nimport { MessageCircle, Loader2, CheckCircle2, CircleDot } from \"lucide-react\";\n\nexport default function IssueList({ initialIssues, initialPageInfo, owner, name }) {\n    const [issues, setIssues] = useState(initialIssues);\n    const [pageInfo, setPageInfo] = useState(initialPageInfo);\n    const [isLoadingMore, setIsLoadingMore] = useState(false);\n\n    // We use useLazyQuery to fetch the next page manually\n    const [fetchIssues] = useLazyQuery(GET_REPO_ISSUES);\n\n    // Intersection Observer Ref\n    const observerRef = useRef();\n\n    const loadMore = useCallback(async () => {\n        if (isLoadingMore || !pageInfo.hasNextPage) return;\n\n        setIsLoadingMore(true);\n\n        try {\n            const { data } = await fetchIssues({\n                variables: {\n                    owner,\n                    name,\n                    first: 20,\n                    after: pageInfo.endCursor,\n                    states: [\"OPEN\"]\n                }\n            });\n\n            const newEdges = data.repository.issues.edges;\n            const newPageInfo = data.repository.issues.pageInfo;\n\n            setIssues(prev => [...prev, ...newEdges.map(e => e.node)]);\n            setPageInfo(newPageInfo);\n\n        } catch (err) {\n            console.error(\"Error fetching more issues:\", err);\n        } finally {\n            setIsLoadingMore(false);\n        }\n    }, [fetchIssues, isLoadingMore, pageInfo, owner, name]);\n\n    useEffect(() => {\n        const observer = new IntersectionObserver(\n            (entries) => {\n                if (entries[0].isIntersecting && pageInfo.hasNextPage) {\n                    loadMore();\n                }\n            },\n            { threshold: 0.5 } // Trigger when 50% visible\n        );\n\n        if (observerRef.current) {\n            observer.observe(observerRef.current);\n        }\n\n        return () => {\n            if (observerRef.current) observer.unobserve(observerRef.current);\n        };\n    }, [loadMore, pageInfo.hasNextPage]);\n\n    return (\n        <div className=\"space-y-4\">\n            {issues.map((issue) => (\n                <div key={issue.id} className=\"group p-5 rounded-xl border border-white/10 bg-white/5 hover:border-blue-500/30 hover:bg-white/[0.07] transition-all cursor-pointer\">\n                    <div className=\"flex justify-between items-start gap-4\">\n                        <div className=\"mt-1 shrink-0\">\n                            {issue.state === 'OPEN' ? (\n                                <CircleDot className=\"text-green-400\" size={18} />\n                            ) : (\n                                <CheckCircle2 className=\"text-purple-400\" size={18} />\n                            )}\n                        </div>\n                        <div className=\"space-y-2 flex-1\">\n                            <Link href={`https://github.com/${owner}/${name}/issues/${issue.number}`} target=\"_blank\" className=\"block\">\n                                <h3 className=\"text-lg font-semibold group-hover:text-blue-400 transition-colors line-clamp-1\">{issue.title}</h3>\n                            </Link>\n                            <div className=\"flex flex-wrap items-center gap-x-3 gap-y-2 text-xs text-gray-400\">\n                                <span className=\"font-mono text-gray-500\">\n                                    #{issue.number}\n                                </span>\n                                <span>opened {new Date(issue.createdAt).toLocaleDateString()} by <span className=\"text-gray-300 font-medium\">{issue.author?.login}</span></span>\n                                {issue.labels.nodes.length > 0 && (\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {issue.labels.nodes.map(label => (\n                                            <span\n                                                key={label.name}\n                                                className=\"px-2 py-0.5 rounded-full text-[10px] font-bold border opacity-80\"\n                                                style={{\n                                                    borderColor: `#${label.color}`,\n                                                    backgroundColor: `#${label.color}15`,\n                                                    color: `#${label.color}`\n                                                }}\n                                            >\n                                                {label.name}\n                                            </span>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        {issue.comments.totalCount > 0 && (\n                            <div className=\"flex items-center gap-1 text-gray-500 text-sm mt-1\">\n                                <MessageCircle size={16} />\n                                {issue.comments.totalCount}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            ))}\n\n            {/* Loading Sentinel */}\n            <div ref={observerRef} className=\"py-8 flex justify-center w-full\">\n                {isLoadingMore && <Loader2 className=\"animate-spin text-blue-500\" size={32} />}\n                {!pageInfo.hasNextPage && issues.length > 0 && (\n                    <p className=\"text-gray-600 text-sm\">All issues loaded.</p>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}