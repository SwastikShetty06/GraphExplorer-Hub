{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/swastik/GraphExplorer%20Hub/lib/graphql/queries.js"],"sourcesContent":["import { gql } from \"@apollo/client\";\n\nexport const GET_USER_PROFILE = gql`\n  query GetUserProfile($login: String!) {\n    user(login: $login) {\n      name\n      avatarUrl\n      bio\n      websiteUrl\n      followers {\n        totalCount\n      }\n      following {\n        totalCount\n      }\n      repositories(first: 100, isFork: false, ownerAffiliations: OWNER, privacy: PUBLIC, orderBy: {field: PUSHED_AT, direction: DESC}) {\n        totalCount\n        nodes {\n            id\n            name\n            description\n            stargazerCount\n            updatedAt\n            url\n            primaryLanguage {\n                name\n                color\n            }\n        }\n      }\n      # Fetching Pinned Items\n      pinnedItems(first: 6, types: [REPOSITORY]) {\n        nodes {\n          ... on Repository {\n            id\n            name\n            description\n            stargazerCount\n            primaryLanguage {\n              name\n              color\n            }\n          }\n        }\n      }\n      # Fetching Organizations\n      organizations(first: 10) {\n        nodes {\n          name\n          avatarUrl\n        }\n      }\n    }\n  }\n`;\n\nexport const SEARCH_REPOS = gql`\n  query SearchRepos($query: String!, $after: String) {\n    search(query: $query, type: REPOSITORY, first: 10, after: $after) {\n      repositoryCount\n      pageInfo {\n        endCursor\n        hasNextPage\n      }\n      edges {\n        node {\n          ... on Repository {\n            id\n            name\n            owner {\n              login\n              avatarUrl\n            }\n            description\n            stargazerCount\n            viewerHasStarred\n            primaryLanguage {\n              name\n              color\n            }\n            updatedAt\n            repositoryTopics(first: 3) {\n              nodes {\n                topic {\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_REPO_ISSUES = gql`\n  query GetRepoIssues($owner: String!, $name: String!, $first: Int = 20, $after: String, $states: [IssueState!]) {\n    repository(owner: $owner, name: $name) {\n      id\n      Name: name\n      owner {\n        login\n        avatarUrl\n      }\n      stargazerCount\n      viewerHasStarred\n      description\n      url\n      issues(first: $first, after: $after, states: $states, orderBy: {field: CREATED_AT, direction: DESC}) {\n        totalCount\n        pageInfo {\n          hasNextPage\n          endCursor\n        }\n        edges {\n          node {\n            id\n            title\n            number\n            state\n            createdAt\n            author {\n              login\n              avatarUrl\n            }\n            comments {\n              totalCount\n            }\n            labels(first: 5) {\n              nodes {\n                name\n                color\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_REPO_DETAILS = gql`\n  query GetRepoDetails($owner: String!, $name: String!) {\n    repository(owner: $owner, name: $name) {\n      id\n      name\n      owner {\n        login\n        avatarUrl\n      }\n      description\n      stargazerCount\n      forkCount\n      watchers {\n        totalCount\n      }\n      openIssues: issues(states: OPEN) {\n        totalCount\n      }\n      latestRelease {\n        tagName\n        publishedAt\n        url\n      }\n      licenseInfo {\n        name\n        spdxId\n      }\n      diskUsage\n      isPrivate\n      homepageUrl\n      url\n      createdAt\n      updatedAt\n      primaryLanguage {\n        name\n        color\n      }\n      repositoryTopics(first: 5) {\n        nodes {\n          topic {\n            name\n          }\n        }\n      }\n      readme: object(expression: \"HEAD:README.md\") {\n        ... on Blob {\n          text\n        }\n      }\n    }\n  }\n`;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,mBAAmB,wJAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDpC,CAAC;AAEM,MAAM,eAAe,wJAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqChC,CAAC;AAEM,MAAM,kBAAkB,wJAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CnC,CAAC;AAEM,MAAM,mBAAmB,wJAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDpC,CAAC"}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///Users/swastik/GraphExplorer%20Hub/components/issues/IssueList.js"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef, useCallback } from \"react\";\nimport { useLazyQuery } from \"@apollo/client/react\";\nimport { GET_REPO_ISSUES } from \"@/lib/graphql/queries\";\nimport Link from \"next/link\";\nimport { MessageCircle, Loader2, CheckCircle2, CircleDot } from \"lucide-react\";\n\nexport default function IssueList({ initialIssues, initialPageInfo, owner, name }) {\n    const [issues, setIssues] = useState(initialIssues);\n    const [pageInfo, setPageInfo] = useState(initialPageInfo);\n    const [isLoadingMore, setIsLoadingMore] = useState(false);\n\n    // We use useLazyQuery to fetch the next page manually\n    const [fetchIssues] = useLazyQuery(GET_REPO_ISSUES);\n\n    // Intersection Observer Ref\n    const observerRef = useRef();\n\n    const loadMore = useCallback(async () => {\n        if (isLoadingMore || !pageInfo.hasNextPage) return;\n\n        setIsLoadingMore(true);\n\n        try {\n            const { data } = await fetchIssues({\n                variables: {\n                    owner,\n                    name,\n                    first: 20,\n                    after: pageInfo.endCursor,\n                    states: [\"OPEN\"]\n                }\n            });\n\n            const newEdges = data.repository.issues.edges;\n            const newPageInfo = data.repository.issues.pageInfo;\n\n            setIssues(prev => [...prev, ...newEdges.map(e => e.node)]);\n            setPageInfo(newPageInfo);\n\n        } catch (err) {\n            console.error(\"Error fetching more issues:\", err);\n        } finally {\n            setIsLoadingMore(false);\n        }\n    }, [fetchIssues, isLoadingMore, pageInfo, owner, name]);\n\n    useEffect(() => {\n        const observer = new IntersectionObserver(\n            (entries) => {\n                if (entries[0].isIntersecting && pageInfo.hasNextPage) {\n                    loadMore();\n                }\n            },\n            { threshold: 0.5 } // Trigger when 50% visible\n        );\n\n        if (observerRef.current) {\n            observer.observe(observerRef.current);\n        }\n\n        return () => {\n            if (observerRef.current) observer.unobserve(observerRef.current);\n        };\n    }, [loadMore, pageInfo.hasNextPage]);\n\n    return (\n        <div className=\"space-y-4\">\n            {issues.map((issue) => (\n                <div key={issue.id} className=\"group p-5 rounded-xl border border-white/10 bg-white/5 hover:border-blue-500/30 hover:bg-white/[0.07] transition-all cursor-pointer\">\n                    <div className=\"flex justify-between items-start gap-4\">\n                        <div className=\"mt-1 shrink-0\">\n                            {issue.state === 'OPEN' ? (\n                                <CircleDot className=\"text-green-400\" size={18} />\n                            ) : (\n                                <CheckCircle2 className=\"text-purple-400\" size={18} />\n                            )}\n                        </div>\n                        <div className=\"space-y-2 flex-1\">\n                            <Link href={`https://github.com/${owner}/${name}/issues/${issue.number}`} target=\"_blank\" className=\"block\">\n                                <h3 className=\"text-lg font-semibold group-hover:text-blue-400 transition-colors line-clamp-1\">{issue.title}</h3>\n                            </Link>\n                            <div className=\"flex flex-wrap items-center gap-x-3 gap-y-2 text-xs text-gray-400\">\n                                <span className=\"font-mono text-gray-500\">\n                                    #{issue.number}\n                                </span>\n                                <span>opened {new Date(issue.createdAt).toLocaleDateString()} by <span className=\"text-gray-300 font-medium\">{issue.author?.login}</span></span>\n                                {issue.labels.nodes.length > 0 && (\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {issue.labels.nodes.map(label => (\n                                            <span\n                                                key={label.name}\n                                                className=\"px-2 py-0.5 rounded-full text-[10px] font-bold border opacity-80\"\n                                                style={{\n                                                    borderColor: `#${label.color}`,\n                                                    backgroundColor: `#${label.color}15`,\n                                                    color: `#${label.color}`\n                                                }}\n                                            >\n                                                {label.name}\n                                            </span>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        {issue.comments.totalCount > 0 && (\n                            <div className=\"flex items-center gap-1 text-gray-500 text-sm mt-1\">\n                                <MessageCircle size={16} />\n                                {issue.comments.totalCount}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            ))}\n\n            {/* Loading Sentinel */}\n            <div ref={observerRef} className=\"py-8 flex justify-center w-full\">\n                {isLoadingMore && <Loader2 className=\"animate-spin text-blue-500\" size={32} />}\n                {!pageInfo.hasNextPage && issues.length > 0 && (\n                    <p className=\"text-gray-600 text-sm\">All issues loaded.</p>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":["useEffect","useState","useRef","useCallback","useLazyQuery","GET_REPO_ISSUES","Link","MessageCircle","Loader2","CheckCircle2","CircleDot","IssueList","initialIssues","initialPageInfo","owner","name","issues","setIssues","pageInfo","setPageInfo","isLoadingMore","setIsLoadingMore","fetchIssues","observerRef","loadMore","hasNextPage","data","variables","first","after","endCursor","states","newEdges","repository","edges","newPageInfo","prev","map","e","node","err","console","error","observer","IntersectionObserver","entries","isIntersecting","threshold","current","observe","unobserve","issue","id","state","number","title","Date","createdAt","toLocaleDateString","author","login","labels","nodes","length","label","borderColor","color","backgroundColor","comments","totalCount"],"mappings":"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","ignoreList":[]}}]
}