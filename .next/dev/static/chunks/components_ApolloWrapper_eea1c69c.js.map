{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/swastik/GraphExplorer%20Hub/components/ApolloWrapper.js"],"sourcesContent":["\"use client\";\n\nimport { ApolloClient, InMemoryCache, createHttpLink } from \"@apollo/client\";\nimport { ApolloProvider } from \"@apollo/client/react\";\nimport { setContext } from \"@apollo/client/link/context\";\nimport { SessionProvider, useSession } from \"next-auth/react\";\nimport { useMemo } from \"react\";\n\n// Separate the Client creation to a logical component that has access to session\nconst AuthApolloProvider = ({ children }) => {\n    const { data: session } = useSession();\n\n    const client = useMemo(() => {\n        const httpLink = createHttpLink({\n            uri: \"https://api.github.com/graphql\",\n        });\n\n        const authLink = setContext((_, { headers }) => {\n            // return the headers to the context so httpLink can read them\n            const token = session?.accessToken;\n            return {\n                headers: {\n                    ...headers,\n                    authorization: token ? `Bearer ${token}` : \"\",\n                },\n            };\n        });\n\n        return new ApolloClient({\n            link: authLink.concat(httpLink),\n            cache: new InMemoryCache(),\n        });\n    }, [session?.accessToken]);\n\n    return <ApolloProvider client={client}>{children}</ApolloProvider>;\n};\n\nexport function ApolloWrapper({ children }) {\n    return (\n        <SessionProvider>\n            <AuthApolloProvider>{children}</AuthApolloProvider>\n        </SessionProvider>\n    );\n}\n"],"names":["c","_c","ApolloClient","InMemoryCache","createHttpLink","ApolloProvider","setContext","SessionProvider","useSession","useMemo","AuthApolloProvider","t0","$","$i","Symbol","for","children","data","session","accessToken","t1","httpLink","uri","authLink","_","t2","headers","token","authorization","link","concat","cache","client","ApolloWrapper"],"mappings":"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","ignoreList":[]}}]
}